<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    
    <title>StumbleUpon moved to Mix!</title>
    <meta name="description" content="Continue discovering and stumbling upon interesting websites and articles with the Mix extension." />
    
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <meta name="referrer" content="always">
    
    <link href="styles.css" rel="stylesheet" type="text/css">
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-58782301-8"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-58782301-8');
    </script>
    
    <!-- [if lt IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js" type="text/javascript"></script><![endif] -->
    <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
    <link href="images/favicon.ico" rel="shortcut icon" type="image/x-icon">
</head>
<body>

    <div class="stumble">

        <div class="section section--text">
            <div class="container">
                <img src="images/stumble_logo.svg" class="stumble-logo">
                <h1><strong>StumbleUpon</strong> moved to <span>Mix!</span></h1>
                <p>Continue discovering and stumbling upon interesting websites and articles with the Mix extension.</p>
                <div id="buttons">
                    <a engine="uninitialized" id="mix-ext-button" onclick="handleAddMix()"
                        href="#" class="btn" style="display: none;">
                        Add to Your Browser
                    </a>
                    <a id="join-mix-button" onclick="handleEvent('join-mix')" 
                        href="https://mix.com/signup?su=home-join-1-signup"
                        class="btn">Join Mix.com</a>
                </div>
            </div>
        </div>

        <div class="section section--image">
            <div class="container">
                <div class="extension-preview">
                    <div class="slides">
                        <div class="slide slide--current">
                            <div class="headline"></div>
                            <img src="images/article_1_64k.jpg">
                        </div>
                        <div class="slide">
                            <div class="headline"></div>
                            <img>
                        </div>
                        <div class="slide">
                            <div class="headline"></div>
                            <img>
                        </div>
                        <div class="slide">
                            <div class="headline"></div>
                            <img>
                        </div>
                        <div class="slide">
                            <div class="headline"></div>
                            <img>
                        </div>
                        <div class="slide">
                            <div class="headline"></div>
                            <img>
                        </div>
                        <div class="slide">
                            <div class="headline"></div>
                            <img>
                        </div>
                    </div>
                    <div class="browser"><img src="images/browser.png"></div>
                    <div class="extension"><img src="images/extension.svg"></div>
                    <div class="next"><img src="images/v2.gif" style="width: 100%; height: 100%;"></div>
                    <div class="cursor"><img src="images/cursor.svg"></div>
                </div>
            </div>
        </div>

    </div>

<script type="text/javascript">
Node.prototype.hasClass = function(name) {
  return this.className && this.className.match(RegExp('(\\s|^)' + name + '(\\s|$)'))
}

Node.prototype.addClass = function(name) {
  if (!this.hasClass(name))
    this.className = (this.className + ' ' + name).trim();
  return this.className;
}

Node.prototype.removeClass = function(name) {
  return this.className = this.className.replace(RegExp('(\\s|^)' + name + '(\\s|$)'), ' ').trim();
}



var extinfo = {
  opera: { text: "Add to Opera", href: "https://chrome.google.com/webstore/detail/mix/pakcjidblmfebhbgoggdgbjkpjhefpgh?from=su&for=opera" },
  chrome: { text: "Add to Chrome", href: "https://chrome.google.com/webstore/detail/mix/pakcjidblmfebhbgoggdgbjkpjhefpgh?from=su&for=chrome" },
  firefox: { text: "Add to Firefox", href: "https://addons.mozilla.org/en-US/firefox/addon/mix-ext/" },
  edge: { text: "Add to Edge", href: "https://chrome.google.com/webstore/detail/mix/pakcjidblmfebhbgoggdgbjkpjhefpgh?from=su&for=edge" },
  edgeblink: { text: "Add to Edge", href: "https://microsoftedge.microsoft.com/addons/detail/jffkbfhhjokopidblbjfkippklbhegoj" },
  mobileApple: { text: "Download the app", href: "https://apps.apple.com/us/app/mix-discover-collect-share/id1092817691" },
  mobileAndroid: { text: "Download the app", href: "https://play.google.com/store/apps/details?id=com.mix.android" }
}

function getBrowserEngine() {
  let engine = 'unknown'
  if (/Trident/.test(navigator.userAgent)) {
    engine = 'ie'
  } else if (/Edge\//.test(navigator.userAgent)) {
    // Old Edge
    engine = 'edge'
  } else if (/webkit/i.test(navigator.userAgent)) {
    if (/OPR\//.test(navigator.userAgent)) {
      engine = 'opera'
    } else if (/Edg\//.test(navigator.userAgent)) {
      // New edge
      engine = 'edgeblink'
    } else if (typeof safari !== 'undefined' || /Mobile Safari\//.test(navigator.userAgent)) {
      engine = 'safari'
    } else if (/iPhone|iOS/.test(navigator.userAgent)) {
      engine = 'mobileApple'
    } else if (/Android/.test(navigator.userAgent)) {
      engine = 'mobileAndroid'
    } else if (/Mobile /.test(navigator.userAgent)) {
      engine = 'mobile'
    } else {
      engine = 'chrome'
    }
  } else if (/firefox/i.test(navigator.userAgent)) {
    engine = 'firefox'
  } else if (/bot/i.test(navigator.userAgent)) {
    engine = 'chrome'
  }
  return engine
}

function handleEvent(name, data) {
  try {
    gtag('event', name, data || {})
  } catch (e) {}
}

function handleAddMix() {
  try {
    var meb = document.getElementById('mix-ext-button')
    handleEvent('add-mix-ext-' + meb.getAttribute('engine'))
    handleEvent('add-mix-ext', { 'engine': meb.getAttribute('engine') })
  } catch (e) {}
}

var engine = getBrowserEngine()
var exttype = extinfo[engine]
if (exttype) {
  var mixextbtn = document.getElementById('mix-ext-button')
  mixextbtn.style.display = 'block'
  mixextbtn.innerText = exttype.text
  mixextbtn.href = exttype.href
  mixextbtn.setAttribute('engine', engine)
} else {
  var mixextbtn = document.getElementById('mix-ext-button')
  mixextbtn.style.display = 'none'
  mixextbtn.setAttribute('engine', engine)
}

// Animate extension image
var currentSlide = 0
var slides = Array.prototype.slice.call(document.getElementsByClassName('slide'))
var cursor = document.getElementsByClassName('cursor')[0]
var next = document.getElementsByClassName('next')[0]
var nextanim = next.getElementsByTagName('img')[0]

var articleTitles = [
  "The 10 Most Romantic Small Towns in Italy",
  "Why Do Cats Leave Their Mouths Open After Smelling Something?",
  "What Central Park Could Have Looked Like, Based on a Rejected 1858 Design",
  "7 Sandwich Secrets We're Stealing from Chefs",
  "The 5 most luxurious homes on rental sites",
  "What Happened the Day a Giant Asteroid Hit the Earth",
  "10 Home Office Ideas That Will Make You Want to Work All Day",
];

function nextSlide(force) {
  if (force) {
    currentSlide = force
  }
  var nextSlide = (currentSlide + 1) % slides.length

  cursor.addClass('cursor--click')
  //next.addClass('next--animate')
  nextanim.src = 'images/v2.gif?' + nextSlide

  setTimeout(function () {
    cursor.removeClass('cursor--click')
    //next.removeClass('next--animate')

    slides.forEach(function (slide) {
      slide.removeClass('slide--previous')
      slide.removeClass('slide--current')
    })

    slides[currentSlide].addClass('slide--previous')
    currentSlide = nextSlide
    slides[currentSlide].addClass('slide--current')

  }, 500)

  var headline = slides[nextSlide].getElementsByClassName('headline')[0]
  var img = slides[nextSlide].getElementsByTagName('img')[0]
  if (!img.src) {
    img.src = 'images/article_' + (nextSlide + 1) + '_64k.jpg';
  }
  headline.innerText = articleTitles[nextSlide]
}

// RUN
nextSlide(slides.length - 1)
setInterval(nextSlide, 3000)
</script>

</body>
</html>
